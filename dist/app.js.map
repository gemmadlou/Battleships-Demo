{"version":3,"sources":["../src/concat-app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["function cloneObject(obj) {\n\treturn (JSON.parse(JSON.stringify(obj)));\n};/** Reference Data **/\n\nvar lettersArray = [ 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J' ];;function Game() {\n  \n  this.grid = undefined;\n  this.hits = [];\n  console.log(this)\n\n}\n\nGame.prototype.addGrid = function(grid) {\n  this.grid = grid;\n}\n\nGame.prototype.FireOnCoordinates = function(row, column) {\n\tvar response = undefined;\n\t\n\t\n};function Grid(_game) {\n  this._game = _game;\t\n  this.coordinates = {\n\tall: [],\n    occupied: []\n  };\n  this.ships = [];\n  \n  this.addToGame();\n  \n  \n  console.log(\"grid\", this);\n  \n}\n\nGrid.prototype.addToGame = function() {\n\tvar grid = cloneObject(this);\n\tdelete grid._game;\n\tthis._game.addGrid(grid);\n}\n\nGrid.prototype.addCoordinate = function(coordinate) {\n\tthis.coordinates.all.push(coordinate);\n}\n\nGrid.prototype.addShip = function(ship) {\n\tvar coordinates = this.randomlySelectCoordinateForShip(ship);\n\tthis.ships.push(ship);\n}\n\nGrid.prototype.randomlySelectCoordinateForShip = function (ship){\n\t\n\tvar possibleCoordinatesForShip = this.getPossibleShipPositionsByRow(ship.size);\n\t\n\tpossibleCoordinatesForShip.push.apply(\n\t\tpossibleCoordinatesForShip, \n\t\tthis.getPossibleShipPositionsByColumn(ship.size)\n\t);\n\t\n\treturn this.selectRandomPosition(possibleCoordinatesForShip);\n\t\n}\n\nGrid.prototype.sortCoordinatesByColumn = function() {\n\treturn this.coordinates.all.sort(function(a, b) {\n\t\tif (a.col == b.col) {\n\t\t\tvar x = a.row.toLowerCase(),\n\t\t\t\ty = b.row.toLowerCase();\n\t\t\t\t\n\t\t\treturn x < y ? -1 : x > y ? 1 : 0;\n\t\t}\n\t\treturn a.col - b.col;\n\t});\n}\n\nGrid.prototype.getPossibleShipPositionsByRow = function(shipsize) {\n\tvar possibleCoordinatesForShip = [];\n\tvar allCoordinates = this.coordinates.all;\n\t\n\t// Rows\n\tfor (var i in allCoordinates) {\n\t\tvar currentCoordinate = allCoordinates[i];\n\t\tvar endIndex = parseInt(i) + shipsize;\n\t\t\n\t\t// Stop if not enough coordinates\n\t\tif (endIndex > allCoordinates.length) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tvar shipPosition = [];\n\t\t\n\t\tfor (var n = i; n < endIndex; n++) {\n\t\t\t\n\t\t\t// Add ship position only if within same row\n\t\t\tif (allCoordinates[n].row === currentCoordinate.row) {\n\t\t\t\tshipPosition.push(allCoordinates[n]);\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// If coordinate is already taken\n\t\t\tif (this.coordinates.occupied.indexOf(currentCoordinate) > - 1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// Once all consecutive coordinates have been reached\n\t\t\tif (n === endIndex - 1) {\n\t\t\t\tpossibleCoordinatesForShip.push(shipPosition);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\treturn possibleCoordinatesForShip;\n}\n\t\nGrid.prototype.getPossibleShipPositionsByColumn = function(shipsize) {\n\tvar possibleCoordinatesForShip = [];\n\tvar allCoordinates = this.sortCoordinatesByColumn(this.coordinates.all);\n\t\n\t// Rows\n\tfor (var i in allCoordinates) {\n\t\tvar currentCoordinate = allCoordinates[i];\n\t\tvar endIndex = parseInt(i) + shipsize;\n\t\t\n\t\t// Stop if not enough coordinates\n\t\tif (endIndex > allCoordinates.length) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tvar shipPosition = [];\n\t\t\n\t\tfor (var n = i; n < endIndex; n++) {\n\t\t\t\n\t\t\t// Add ship position only if within same col\n\t\t\tif (allCoordinates[n].col === currentCoordinate.col) {\n\t\t\t\tshipPosition.push(allCoordinates[n]);\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// If coordinate is already taken\n\t\t\tif (this.coordinates.occupied.indexOf(currentCoordinate) > - 1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// Once all consecutive coordinates have been reached\n\t\t\tif (n === endIndex - 1) {\n\t\t\t\tpossibleCoordinatesForShip.push(shipPosition);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\treturn possibleCoordinatesForShip;\n}\n\nGrid.prototype.selectRandomPosition = function(coordinates) {\n\t\n\tvar randomPosition = coordinates[Math.floor(Math.random()*coordinates.length)];\n\t\n\tthis.coordinates.occupied.push.apply(\n\t\tthis.coordinates.occupied,\n\t\trandomPosition\n\t);\n\t\n\tconsole.log(\"possibleCoordinates\", coordinates)\n\tconsole.log(\"random\", JSON.stringify(randomPosition));\n\t\n\treturn randomPosition;\n};function Coordinate(_grid, row, col) {\n  this._grid = grid;\n  this.row = row;\n  this.col = col;\n  \n  this.addToGrid();\n}\n\nCoordinate.prototype.addToGrid = function() {\n  var coordinate = cloneObject(this);\n  delete coordinate._grid;\n  this._grid.addCoordinate(coordinate);\n};function Ship(_grid, name, size) {\n  this._grid = _grid;\n  this.name = name;\n  this.size = size;\n  \n  this.addToGrid();\n  \n  console.log(\"ship\", this);\n}\n\nShip.prototype.addToGrid = function() {\n\tvar ship = cloneObject(this);\n\tdelete ship._grid;\n\tthis._grid.addShip(ship);\n};// Wireup Game\nvar gridsize = 10;\n\nvar game = new Game();\n\nvar grid = new Grid(game);\n\nfor (var i = 0; i < gridsize; i++) {\n\tfor (var n = 1; n <= gridsize; n++) {\n\t\tnew Coordinate(grid, lettersArray[i], n);\n\t}\n}\n\nvar Battleship \t= new Ship(grid, 'Battleship', 5);\nvar Destroyer \t= new Ship(grid, 'Destroyer', 4);\nvar Destroyer2 \t= new Ship(grid, 'Destroyer', 4);\n\nconsole.log(\"Game\", game);\nconsole.log(\"Grid\", grid);\n\nvar Fire = function() {\n\tvar command = document.getElementById('entry').value;\n\tconsole.log(\"fire\", command);\n\t\n\tif (command.length > 3) {\n\t\treturn alert(\"Invalid command length\");\n\t}\n\t\n\tvar row = command.substr(0, 1),\n\t\tcolumn = command.substr(1, command.length);\n\t\n\tif (!isNaN(row)) {\n\t\treturn alert(\"Command invalid. First command should be a character - not a number\");\n\t}\n\t\n\tif (isNaN(column)) {\n\t\treturn alert(\"Command invalid. Command should be as in A1, B10 etc\");\n\t}\n\t\n\tGame.FireOnCoordinates(row, column);\n\t\n}"]}